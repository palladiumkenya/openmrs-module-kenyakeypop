<!--
  ~ The contents of this file are subject to the OpenMRS Public License
  ~ Version 1.0 (the "License"); you may not use this file except in
  ~ compliance with the License. You may obtain a copy of the License at
  ~ http://license.openmrs.org
  ~
  ~ Software distributed under the License is distributed on an "AS IS"
  ~ basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
  ~ License for the specific language governing rights and limitations
  ~ under the License.
  ~
  ~ Copyright (C) OpenMRS, LLC.  All Rights Reserved.
  -->
<htmlform>
    <script type="text/javascript" src="../moduleResources/kenyaemr/scripts/moment.js"></script>
    <style>
        .simple-table {
            border: solid 1px #DDEEEE;
            border-collapse: collapse;
            border-spacing: 0;
            font: normal 13px Arial, sans-serif;
        }

        .simple-table thead th {
            background-color: #DDEFEF;
            border: solid 1px #DDEEEE;
            color: #336B6B;
            padding: 10px;
            text-align: left;
            text-shadow: 1px 1px 1px #fff;
        }

        .simple-table td {
            border: solid 1px #DDEEEE;
            color: #333;
            padding: 10px;
            text-shadow: 1px 1px 1px #fff;
        }
    </style>
    <script type="text/javascript" src="../moduleResources/kenyaemr/scripts/moment.js"></script>
    <script>
      var Discontinue1  = function () {
              var discontinue = getValue('treatment-plan1.value');
             if(discontinue=="1260"){
			   $('#discontinue1 select').attr('disabled', false);
                   }
                else if (discontinue != "1260"){

                $("#discontinue1 select").attr('disabled', 'disabled');
                $("#discontinue1 select").val("Select");
                }
            }
                var Discontinue2  = function () {
            var discontinue = getValue('treatment-plan2.value');
             if(discontinue=="1260"){
				   $('#discontinue2 select').attr('disabled', false);
                   }
                else if (discontinue != "1260"){

                $("#discontinue2 select").attr('disabled', 'disabled');
                $("#discontinue2 select").val("Select");
                }
            }
                var Discontinue3  = function () {
              var discontinue = getValue('treatment-plan3.value');
             if(discontinue=="1260"){
				 $('#discontinue3 select').attr('disabled', false);
                   }
                else if (discontinue != "1260"){

                $("#discontinue3 select").attr('disabled', 'disabled');
                $("#discontinue3 select").val("Select");
                }
            }


             var Discontinue4  = function () {
            var discontinue = getValue('treatment-plan4.value');
           if (discontinue == "1260"){
                    $('#discontinue4 select').attr('disabled', false);
                   }
                else if (discontinue != "1260"){

                $("#discontinue4 select").attr('disabled', 'disabled');
                $("#discontinue4 select").val("Select");

            }
		}

		  var Specify1  = function () {
            var discontinue = getValue('discontinue1.value');
           if (discontinue == "5622"){
                 $('#specify1 input').prop('disabled', false);
                   }
                else if (discontinue != "5622"){
                    $('#specify1 input').prop('disabled', true);
                    $('#specify1 input').val('');
            }
		}
		  var Specify2  = function () {
            var discontinue = getValue('discontinue2.value');
           if (discontinue == "5622"){
                 $('#specify2 input').prop('disabled', false);
                   }
                else if (discontinue != "5622"){
                    $('#specify2 input').prop('disabled', true);
                    $('#specify2 input').val('');
            }
		}

		  var Specify3  = function () {
            var discontinue = getValue('discontinue3.value');
           if (discontinue == "5622"){
                 $('#specify3 input').prop('disabled', false);
                   }
                else if (discontinue != "5622"){
                    $('#specify3 input').prop('disabled', true);
                    $('#specify3 input').val('');
            }
		}

		  var Specify4  = function () {
            var discontinue = getValue('discontinue4.value');
           if (discontinue == "5622"){
                 $('#specify4 input').prop('disabled', false);
                   }
                else if (discontinue != "5622"){
                    $('#specify4 input').prop('disabled', true);
                    $('#specify4 input').val('');
            }
		}



$(document).ready(function () {


jq("#discontinue1 select").attr('disabled', 'disabled');
jq("#discontinue2 select").attr('disabled', 'disabled');
jq("#discontinue3 select").attr('disabled', 'disabled');
jq("#discontinue4 select").attr('disabled', 'disabled');

$('#specify1 input').prop('disabled', true);
$('#specify2 input').prop('disabled', true);
$('#specify3 input').prop('disabled', true);
$('#specify4 input').prop('disabled', true);

            $('#treatment-plan1').click(Discontinue1);
			$('#treatment-plan2').click(Discontinue2);
			$('#treatment-plan3').click(Discontinue3);
			$('#treatment-plan4').click(Discontinue4);

			$('#discontinue1').click(Specify1);
			$('#discontinue2').click(Specify2);
			$('#discontinue3').click(Specify3);
			$('#discontinue4').click(Specify4);

});

</script>

    <div class="ke-form-header">
        <table width="100%">
            <tr>
                <td>Date:
                    <encounterDate id="encounter-date" showTime="true"/>
                </td>
                <td>Location:
                    <encounterLocation default="GlobalProperty:kenyaemr.defaultLocation" type="autocomplete"/>
                </td>
            </tr>
        </table>
    </div>

    <div class="ke-form-content">
        <ifMode mode="EDIT">
            <script type="text/javascript">
                jq(function(){
                    var val = getValue('referred.value');
                    if(val == 1272){
                        jq("#referred-specify").show();
                    }
                    else{
                        jq("#referred-specify").hide();
                        jq('#referred-specify input').val('');
                    }
                });

            </script>
        </ifMode>
        <!--Peer Educator/ORW Overdose Encounter Reporting Tool-->
            <fieldset id="prep_verification_form">
                <legend>
                    Prep History
                </legend>
                <table class="simple-table" id="overdose-reporting-tool">
                         <tr>
                            <td><b>Enrollment Date</b></td>
                            <td>
                                <obs id="incident_date" conceptId="163526" allowFutureDates="false"  />
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <b>Name of health facility accessing PrEP</b>
                            </td>
                            <td>
                                <obs conceptId="162724"/>

                            </td>
                        </tr>
                        <tr>
                            <td>
                                <b>Is a PEPFAR site</b>
                            </td>
                            <td ><p>  <obs id="received_results" conceptId="1557"
                                           answerConceptIds="1065,
                                                            1066,1067"  answerLabels="Yes,No, Unknown"
                                           style="radio" answerSeparator="&lt;br /&gt;"  />
                            </p></td>
                        </tr>
                    <tr>
                        <td>
                            <b>Date initiated on PrEP </b>
                        </td>

                        <td><obs conceptId="160555" id="first-enrolled-date"/></td>


                    </tr>
                    <tr>
                        <td>
                            <b>PrEP Regimen</b>
                        </td>
                        <td id="regimen-options"><obs conceptId="164515" labelText=" " answerConceptIds="161364AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
						84795AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,104567AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                      answerLabels="TDF/3TC,TDF,TDF/FTC(Preferred)" />
                        </td>
                    </tr>

                    <tr>
                        <td>
                            <b>Source information</b>
                        </td>
                        <td>
                            <obs conceptId="162568"/>
                        </td>
                    </tr>
                </table>
        </fieldset>

        <fieldset id="prep_appointment">
            <legend>Prep Appointment</legend>
            <table class="simple-table">
                <tr>
                    <td ><p><b>Verification Date</b></p></td>
                    <td ><p><b>PrEP Status</b></p></td>
                    <td ><p><b>PrEP Discontinuation Reasons</b></p></td>
                    <td ><p><b>Next PrEP Appointment</b></p></td>

                </tr>
                <tr>
                    <td>
                        <obs id="verification_date" conceptId="5096" allowFutureDates="true"  />
                    </td>
                    <td>
                        <obs conceptId="165109" id="treatment-plan1"
                             answerConceptIds="1256AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1257AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,162904AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1260AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                             answerLabels="Start,Continue,Restart,Discontinue"   answerSeparator="&lt;br /&gt;"
                             style="radio" />
                    </td>
                    <td><obs id="discontinue1" conceptId="161555" labelText=" "   answerConceptIds="138571AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
						1302AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
						159598AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,164401AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
						162696AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
						5622"
                             answerLabels="HIV test is positive,Viral suppression of HIV+ Partner,
							 Not adherent to PrEP,Too many HIV tests,Client request,
							 Other-specify"  style="dropdown"/>
                        <obs conceptId="165230" id="specify1"/>

                    </td>
                    <td id="next-appointment-date"><obs id="next-appointment" conceptId="5096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" allowFutureDates="true"/></td>

                </tr>
                <tr>
                    <td>
                        <obs id="verification_date" conceptId="5096" allowFutureDates="true"  />
                    </td>
                    <td>
                        <obs conceptId="165109" id="treatment-plan2"
                             answerConceptIds="1256AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1257AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,162904AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1260AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                             answerLabels="Start,Continue,Restart,Discontinue"   answerSeparator="&lt;br /&gt;"
                             style="radio" />
                    </td>
                    <td><obs id="discontinue2" conceptId="161555" labelText=" "   answerConceptIds="138571AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
						1302AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
						159598AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,164401AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
						162696AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
						5622"
                             answerLabels="HIV test is positive,Viral suppression of HIV+ Partner,
							 Not adherent to PrEP,Too many HIV tests,Client request,
							 Other-specify"  style="dropdown"/>
                        <obs conceptId="165230" id="specify2"/>
                    </td>
                    <td id="next-appointment-date"><obs id="next-appointment" conceptId="5096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" allowFutureDates="true"/></td>

                </tr>
                <tr>
                    <td>
                        <obs id="verification_date" conceptId="5096" allowFutureDates="true"  />
                    </td>
                    <td>
                        <obs conceptId="165109" id="treatment-plan3"
                             answerConceptIds="1256AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1257AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,162904AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1260AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                             answerLabels="Start,Continue,Restart,Discontinue"   answerSeparator="&lt;br /&gt;"
                             style="radio" />
                    </td>
                    <td><obs id="discontinue3" conceptId="161555" labelText=" "   answerConceptIds="138571AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
						1302AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
						159598AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,164401AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
						162696AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
						5622"
                             answerLabels="HIV test is positive,Viral suppression of HIV+ Partner,
							 Not adherent to PrEP,Too many HIV tests,Client request,
							 Other-specify"  style="dropdown"/>
                        <obs conceptId="165230" id="specify3"/>
                    </td>
                    <td id="next-appointment-date"><obs id="next-appointment" conceptId="5096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" allowFutureDates="true"/></td>

                </tr>
                <tr>
                    <td>
                        <obs id="verification_date" conceptId="5096" allowFutureDates="true"  />
                    </td>
                    <td>
                        <obs conceptId="165109" id="treatment-plan4"
                             answerConceptIds="1256AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1257AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,162904AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,1260AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                             answerLabels="Start,Continue,Restart,Discontinue"   answerSeparator="&lt;br /&gt;"
                             style="radio"  />
                    </td>
                    <td><obs id="discontinue4" conceptId="161555" labelText=" "   answerConceptIds="138571AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
						1302AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
						159598AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,164401AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
						162696AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
						5622"
                             answerLabels="HIV test is positive,Viral suppression of HIV+ Partner,
							 Not adherent to PrEP,Too many HIV tests,Client request,
							 Other-specify"  style="dropdown"/>
                        <obs conceptId="165230" id="specify4"/>

                    </td>
                    <td id="next-appointment-date"><obs id="next-appointment" conceptId="5096AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" allowFutureDates="true"/></td>

                </tr>
            </table>

        </fieldset>
    </div>
    <div class="ke-form-footer">
        <submit/>
    </div>

</htmlform>